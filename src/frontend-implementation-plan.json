{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Format Presale Progress 'ICP Remaining' with dot thousands separators",
  "requirements": [
    {
      "id": "REQ-16",
      "summary": "Format the Presale Progress 'ICP Remaining' value with dot thousands separators (e.g., 515.000 ICP) while keeping the underlying remaining amount correct and clamped at 0.",
      "acceptanceCriteria": [
        "When the presale has received 0 ICP, the 'ICP Remaining' value displays exactly \"515.000 ICP\".",
        "When contributions have been received, 'ICP Remaining' displays (cap - received) with dot thousands separators (e.g., \"514.999 ICP\"), and never goes below 0.",
        "Only the numeric formatting of the 'ICP Remaining' value is changed; the label text remains \"ICP Remaining\" and all other PresaleProgress UI behavior remains unchanged."
      ],
      "file_operations": [
        {
          "path": "frontend/src/utils/format.ts",
          "operation": "create",
          "description": "Add a small number-formatting helper for ICP integers that renders dot thousands separators (e.g., using Intl.NumberFormat with a locale that uses '.' as the grouping separator) and produces no decimals."
        },
        {
          "path": "frontend/src/components/presale/PresaleProgress.tsx",
          "operation": "modify",
          "description": "Update the 'ICP Remaining' statistic to use the new formatting helper so remaining ICP renders like \"515.000 ICP\" at 0 contributions and continues formatting (cap - received) with dot thousands separators while clamping at 0; do not change the label text or other UI behavior."
        }
      ]
    }
  ]
}